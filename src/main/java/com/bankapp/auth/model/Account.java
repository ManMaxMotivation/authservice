// –≠—Ç–æ—Ç —Ñ–∞–π–ª –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –ø—Ä–æ–µ–∫—Ç–µ
package com.bankapp.auth.model;

// –ò–º–ø–æ—Ä—Ç—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫
import jakarta.persistence.*; // –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ JPA –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö (PostgreSQL –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ)
import lombok.Data; // –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è Lombok –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≥–µ—Ç—Ç–µ—Ä–æ–≤, —Å–µ—Ç—Ç–µ—Ä–æ–≤, toString, equals, hashCode
import java.util.UUID; // –ö–ª–∞—Å—Å Java –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤

// –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è Lombok @Data –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç –≥–µ—Ç—Ç–µ—Ä—ã, —Å–µ—Ç—Ç–µ—Ä—ã, equals, hashCode –∏ toString
// üí• @Entity —É–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ —ç—Ç–æ—Ç –∫–ª–∞—Å—Å —è–≤–ª—è–µ—Ç—Å—è JPA-—Å—É—â–Ω–æ—Å—Ç—å—é, —Ç.–µ. —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç–∞–±–ª–∏—Ü–µ –≤ –ë–î
@Entity
@Data
public class Account {

    // üí• @Id –æ–±–æ–∑–Ω–∞—á–∞–µ—Ç –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á —Ç–∞–±–ª–∏—Ü—ã
    // üí• @GeneratedValue(strategy = GenerationType.IDENTITY) —É–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ ID –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –ë–î (–≤ PostgreSQL —ç—Ç–æ SERIAL)
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id; // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∞–∫–∫–∞—É–Ω—Ç–∞, —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —Å—Ç–æ–ª–±—Ü–µ id —Ç–∞–±–ª–∏—Ü—ã

    // üí• @Column –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–≤–æ–π—Å—Ç–≤–∞ —Å—Ç–æ–ª–±—Ü–∞ –≤ —Ç–∞–±–ª–∏—Ü–µ
    // nullable = false: –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å null
    // unique = true: –Ω–æ–º–µ—Ä —Å—á–µ—Ç–∞ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º
    // length = 12: –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ —Å—Ç—Ä–æ–∫–∏ 12 —Å–∏–º–≤–æ–ª–æ–≤
    @Column(nullable = false, unique = true, length = 12)
    private String accountNumber; // –ù–æ–º–µ—Ä —Å—á–µ—Ç–∞, —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —Å—Ç–æ–ª–±—Ü–µ account_number

    // üí• –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–ª—è –Ω–æ–º–µ—Ä–∞ –∫–∞—Ä—Ç—ã: —É–Ω–∏–∫–∞–ª—å–Ω—ã–π, –Ω–µ null, –¥–ª–∏–Ω–∞ 16 —Å–∏–º–≤–æ–ª–æ–≤
    @Column(nullable = false, unique = true, length = 16)
    private String cardNumber; // –ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã, —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —Å—Ç–æ–ª–±—Ü–µ card_number

    // üí• –ë–∞–ª–∞–Ω—Å —Å—á–µ—Ç–∞, –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å null
    @Column(nullable = false)
    private double balance; // –ë–∞–ª–∞–Ω—Å —Å—á–µ—Ç–∞, —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —Å—Ç–æ–ª–±—Ü–µ balance

    // üí• @ManyToOne —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —Å–≤—è–∑—å "–º–Ω–æ–≥–∏–µ-–∫-–æ–¥–Ω–æ–º—É": –º–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –º–æ–≥—É—Ç –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç—å –æ–¥–Ω–æ–º—É –∫–ª–∏–µ–Ω—Ç—É
    // üí• @JoinColumn(name = "client_id", nullable = false) —Å–æ–∑–¥–∞–µ—Ç –≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á client_id, —Å—Å—ã–ª–∞—é—â–∏–π—Å—è –Ω–∞ —Ç–∞–±–ª–∏—Ü—É –∫–ª–∏–µ–Ω—Ç–æ–≤
    @ManyToOne
    @JoinColumn(name = "client_id", nullable = false)
    private Client client; // –í–ª–∞–¥–µ–ª–µ—Ü –∞–∫–∫–∞—É–Ω—Ç–∞, —Å—Å—ã–ª–∫–∞ –Ω–∞ –æ–±—ä–µ–∫—Ç Client (–≤ –ë–î —ç—Ç–æ –≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á)

    // –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
    public Account() {
        // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –Ω–æ–º–µ—Ä —Å—á–µ—Ç–∞: –±–µ—Ä–µ–º UUID, —É–±–∏—Ä–∞–µ–º –¥–µ—Ñ–∏—Å—ã –∏ –æ–±—Ä–µ–∑–∞–µ–º –¥–æ 12 —Å–∏–º–≤–æ–ª–æ–≤
        // UUID —Å–æ–∑–¥–∞–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—É—é —Å—Ç—Ä–æ–∫—É, —á—Ç–æ–±—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –Ω–æ–º–µ—Ä–∞ —Å—á–µ—Ç–∞
        this.accountNumber = UUID.randomUUID().toString().replace("-", "").substring(0, 12);
        // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –Ω–æ–º–µ—Ä –∫–∞—Ä—Ç—ã: –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ, –Ω–æ –æ–±—Ä–µ–∑–∞–µ–º –¥–æ 16 —Å–∏–º–≤–æ–ª–æ–≤
        this.cardNumber = UUID.randomUUID().toString().replace("-", "").substring(0, 16);
    }

    // –ì–µ—Ç—Ç–µ—Ä –¥–ª—è ID –∞–∫–∫–∞—É–Ω—Ç–∞
    // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∞–∫–∫–∞—É–Ω—Ç–∞, —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ë–î
    public Long getId() {
        return id;
    }

    // –ì–µ—Ç—Ç–µ—Ä –¥–ª—è –Ω–æ–º–µ—Ä–∞ —Å—á–µ—Ç–∞
    // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä —Å—á–µ—Ç–∞ (12 —Å–∏–º–≤–æ–ª–æ–≤)
    public String getAccountNumber() {
        return accountNumber;
    }

    // –ì–µ—Ç—Ç–µ—Ä –¥–ª—è –Ω–æ–º–µ—Ä–∞ –∫–∞—Ä—Ç—ã
    // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä –∫–∞—Ä—Ç—ã (16 —Å–∏–º–≤–æ–ª–æ–≤)
    public String getCardNumber() {
        return cardNumber;
    }

    // –ì–µ—Ç—Ç–µ—Ä –¥–ª—è –±–∞–ª–∞–Ω—Å–∞
    // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å —Å—á–µ—Ç–∞
    public double getBalance() {
        return balance;
    }

    // –°–µ—Ç—Ç–µ—Ä –¥–ª—è –±–∞–ª–∞–Ω—Å–∞
    // –ü–æ–∑–≤–æ–ª—è–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–∏ –∏–ª–∏ —Å–ø–∏—Å–∞–Ω–∏–∏)
    public void setBalance(double balance) {
        this.balance = balance;
    }

    // –ì–µ—Ç—Ç–µ—Ä –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞
    // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç Client, –∫–æ—Ç–æ—Ä–æ–º—É –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –∞–∫–∫–∞—É–Ω—Ç
    public Client getClient() {
        return client;
    }

    // –°–µ—Ç—Ç–µ—Ä –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞
    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤–ª–∞–¥–µ–ª—å—Ü–∞ –∞–∫–∫–∞—É–Ω—Ç–∞ (–æ–±—ä–µ–∫—Ç Client)
    public void setClient(Client client) {
        this.client = client;
    }
}